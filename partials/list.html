<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <title>ë³„ë¯¸ ë¦¬ìŠ¤íŠ¸</title>
  <link rel="stylesheet" href="css/list.css" />

  <!-- âœ… Font Awesome ì•„ì´ì½˜ ë¶ˆëŸ¬ì˜¤ê¸° -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
  <h1>ğŸ½ï¸ ë³„ë¯¸ ë§›ì§‘ ë¦¬ìŠ¤íŠ¸</h1>
  <div id="restaurant-list" class="restaurant-list"></div>

  <script>
    async function loadRestaurants() {
      try {
        const res = await fetch("data/restaurants.json");
        const data = await res.json();

        const container = document.getElementById("restaurant-list");
        container.innerHTML = "";

        data.forEach(r => {
          const card = document.createElement("div");
          card.className = "restaurant-card";

          const imageUrl = r.naver?.imageUrl || r.google?.imageUrl || "";

          card.innerHTML = `
            <img src="${imageUrl}" alt="${r.name}" class="thumbnail" />
            <h2>${r.name}</h2>
            <p class="category">${r.category} | ${r.location}</p>

            <p><i class="fa-solid fa-star" style="color:#2DB400;"></i> ë„¤ì´ë²„: ${r.naver?.rating} (${r.naver?.reviews}ëª…)</p>
            <p><i class="fa-solid fa-star" style="color:#DB4437;"></i> êµ¬ê¸€: ${r.google?.rating} (${r.google?.reviews}ëª…)</p>
            <p class="byeolmi"><i class="fa-solid fa-star" style="color:#FF9500;"></i> ë³„ë¯¸í‰ì : ${r.byeolmi?.rating}</p>

            <div class="blog-section">
              <h3><i class="fa-brands fa-blogger-b"></i> ë¸”ë¡œê·¸ ë¦¬ë·°</h3>
              ${r.blog && r.blog.length > 0 ? r.blog.map(b => `
                <div class="blog-item">
                  <a href="${b.url}" target="_blank">
                    <img src="${b.imageUrl}" alt="${b.title}" class="blog-thumb" />
                    <p>${b.title} - <small>${b.author}</small></p>
                  </a>
                </div>
              `).join("") : "<p>ë¦¬ë·° ì—†ìŒ</p>"}
            </div>
          `;

          container.appendChild(card);
        });
      } catch (err) {
        console.error("ë°ì´í„° ë¶ˆëŸ¬ì˜¤ê¸° ì‹¤íŒ¨:", err);
      }
    }

    loadRestaurants();
  </script>
</body>
</html>
